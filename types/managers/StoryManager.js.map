{"version":3,"file":"StoryManager.js","sourceRoot":"","sources":["../../src/managers/StoryManager.ts"],"names":[],"mappings":"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"}